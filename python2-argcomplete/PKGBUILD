# Maintainer: Andrey Mikhaylenko <neithere at gmail dot com>
_python=python2
_distname=argcomplete
pkgname=$_python-$_distname
pkgver=0.6.7
pkgrel=1
pkgdesc="Bash completion for argparse"
arch=(any)
url="https://github.com/kislyuk/argcomplete"
license=('Apache')
depends=('python2>=2.6')
makedepends=('python2-distribute')
provides=()
conflicts=()
replaces=()
backup=()
options=(!emptydirs)
install=
source=(http://pypi.python.org/packages/source/${_distname:0:1}/$_distname/$_distname-${pkgver}.tar.gz)
md5sums=('d9faf5e522f15b829588cbca4859563c')

package() {
   cd "${srcdir}/$_distname-${pkgver}"
   $_python setup.py install --root="${pkgdir}" --optimize=1 || exit 1

   mv "$pkgdir/usr/bin/activate-global-python-argcomplete" "$pkgdir/usr/bin/activate-global-python2-argcomplete"
   mv "$pkgdir/usr/bin/python-argcomplete-check-easy-install-script" "$pkgdir/usr/bin/python2-argcomplete-check-easy-install-script"
   mv "$pkgdir/usr/bin/register-python-argcomplete" "$pkgdir/usr/bin/register-python2-argcomplete"
}
